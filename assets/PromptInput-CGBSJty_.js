import{j as e}from"./jsx-runtime-DF2Pcvd1.js";import{r as h}from"./index-B2-qRKKC.js";import{c as l,a as E}from"./utils-JCLedEej.js";const F=E("w-full rounded-2xl border transition-all duration-300 backdrop-blur-sm",{variants:{variant:{default:["bg-white/80 dark:bg-slate-900/80","border-slate-200 dark:border-slate-700","focus-within:border-blue-400 dark:focus-within:border-blue-500","focus-within:ring-4 focus-within:ring-blue-500/10 dark:focus-within:ring-blue-400/20","focus-within:shadow-lg focus-within:shadow-blue-500/5"],ghost:["border-transparent","bg-slate-100/80 dark:bg-slate-800/80","focus-within:bg-white dark:focus-within:bg-slate-900","focus-within:border-slate-200 dark:focus-within:border-slate-700","focus-within:ring-4 focus-within:ring-slate-500/10"],elevated:["bg-white dark:bg-slate-900","border-slate-200 dark:border-slate-700","shadow-xl shadow-slate-200/50 dark:shadow-slate-900/50","focus-within:shadow-2xl focus-within:shadow-blue-500/10","focus-within:border-blue-400 dark:focus-within:border-blue-500"]},size:{sm:"text-sm",md:"text-base",lg:"text-lg"}},defaultVariants:{variant:"default",size:"md"}}),K=()=>e.jsxs("span",{className:"relative flex h-5 w-5",children:[e.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-red-400 opacity-75"}),e.jsx("span",{className:"relative inline-flex items-center justify-center rounded-full h-5 w-5 bg-red-500",children:e.jsx("svg",{className:"w-3 h-3 text-white",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:e.jsx("path",{d:"M12 14c1.66 0 3-1.34 3-3V5c0-1.66-1.34-3-3-3S9 3.34 9 5v6c0 1.66 1.34 3 3 3z"})})})]}),C=({className:a})=>e.jsx("svg",{className:l("w-4 h-4",a),fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,"aria-hidden":"true",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.813 15.904L9 18.75l-.813-2.846a4.5 4.5 0 00-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 003.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 003.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 00-3.09 3.09z"})});function q({value:a,onChange:M,onSubmit:v,placeholder:A="Ask anything...",suggestions:s=[],onSuggestionSelect:o,showVoice:L=!1,isVoiceActive:b=!1,onVoiceToggle:z,showAttachment:P=!1,onAttachment:S,attachments:w=[],onRemoveAttachment:g,isLoading:n=!1,disabled:d=!1,autoResize:k=!0,maxRows:j=6,maxLength:i,showCharCount:B=!1,variant:H,size:p,className:I}){const u=h.useRef(null),[f,c]=h.useState(!1),[m,x]=h.useState(-1),[y,N]=h.useState(!1);h.useEffect(()=>{if(k&&u.current){u.current.style.height="auto";const r=parseInt(getComputedStyle(u.current).lineHeight)*j;u.current.style.height=`${Math.min(u.current.scrollHeight,r)}px`}},[a,k,j]);const R=t=>{t.key==="Enter"&&!t.shiftKey?(t.preventDefault(),f&&m>=0&&s[m]?(o==null||o(s[m]),c(!1),x(-1)):a.trim()&&!n&&!d&&v(a)):t.key==="ArrowDown"&&f?(t.preventDefault(),x(r=>Math.min(r+1,s.length-1))):t.key==="ArrowUp"&&f?(t.preventDefault(),x(r=>Math.max(r-1,-1))):t.key==="Escape"&&(c(!1),x(-1))},W=t=>{const r=i?t.target.value.slice(0,i):t.target.value;M(r),c(r.length>0&&s.length>0),x(-1)},_=()=>{a.trim()&&!n&&!d&&v(a)},D=h.useMemo(()=>{if(!i)return"text-slate-400";const t=a.length/i;return t>=.9?"text-red-500":t>=.75?"text-amber-500":"text-slate-400"},[a.length,i]);return e.jsxs("div",{className:l("relative",I),children:[w.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2 mb-3 animate-in slide-in-from-bottom-2 duration-300",children:w.map((t,r)=>{var V;return e.jsxs("div",{className:l("group flex items-center gap-2 px-3 py-2 rounded-xl","bg-slate-100 dark:bg-slate-800","border border-slate-200 dark:border-slate-700","hover:border-slate-300 dark:hover:border-slate-600","transition-all duration-200"),children:[t.preview?e.jsx("div",{className:"w-8 h-8 rounded-lg overflow-hidden ring-2 ring-white dark:ring-slate-900 shadow-sm",children:e.jsx("img",{src:t.preview,alt:`Preview of ${t.name}`,className:"w-full h-full object-cover"})}):e.jsx("div",{className:"w-8 h-8 rounded-lg bg-slate-200 dark:bg-slate-700 flex items-center justify-center",children:e.jsx("svg",{className:"w-4 h-4 text-slate-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),e.jsxs("div",{className:"flex flex-col min-w-0",children:[e.jsx("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-300 truncate max-w-[120px]",children:t.name}),e.jsx("span",{className:"text-xs text-slate-500 dark:text-slate-400",children:(V=t.type.split("/")[1])==null?void 0:V.toUpperCase()})]}),g&&e.jsx("button",{onClick:()=>g(r),className:l("ml-1 p-1 rounded-full","text-slate-400 hover:text-red-500","hover:bg-red-50 dark:hover:bg-red-900/30","opacity-0 group-hover:opacity-100","transition-all duration-200"),"aria-label":`Remove ${t.name}`,children:e.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,"aria-hidden":"true",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})})]},r)})}),e.jsxs("div",{className:l(F({variant:H,size:p}),y&&"ring-4"),children:[e.jsxs("div",{className:"flex items-end gap-2 p-3",children:[P&&e.jsx("button",{type:"button",onClick:S,disabled:d||n,className:l("flex-shrink-0 p-2.5 rounded-xl transition-all duration-200","text-slate-400 dark:text-slate-500","hover:bg-slate-100 dark:hover:bg-slate-800","hover:text-slate-600 dark:hover:text-slate-300","active:scale-95","disabled:opacity-50 disabled:cursor-not-allowed"),"aria-label":"Attach file",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,"aria-hidden":"true",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13"})})}),e.jsxs("div",{className:"flex-1 relative",children:[e.jsx("textarea",{ref:u,value:a,onChange:W,onKeyDown:R,onFocus:()=>{N(!0),s.length>0&&c(!0)},onBlur:()=>{N(!1),setTimeout(()=>c(!1),200)},placeholder:A,disabled:d||n,rows:1,className:l("w-full resize-none bg-transparent border-0 focus:outline-none focus:ring-0","text-slate-900 dark:text-slate-100","placeholder:text-slate-400 dark:placeholder:text-slate-500","disabled:opacity-50 disabled:cursor-not-allowed",p==="sm"&&"text-sm py-1.5",p==="md"&&"text-base py-2",p==="lg"&&"text-lg py-2.5"),"aria-label":"Prompt input"}),B&&i&&e.jsxs("div",{className:l("absolute right-0 bottom-0 text-xs transition-colors",D),children:[a.length,"/",i]})]}),L&&e.jsx("button",{type:"button",onClick:z,disabled:d||n,className:l("flex-shrink-0 p-2.5 rounded-xl transition-all duration-200",b?"bg-red-50 dark:bg-red-900/30":["text-slate-400 dark:text-slate-500","hover:bg-slate-100 dark:hover:bg-slate-800","hover:text-slate-600 dark:hover:text-slate-300"],"active:scale-95","disabled:opacity-50 disabled:cursor-not-allowed"),"aria-label":b?"Stop voice input":"Start voice input",children:b?e.jsx(K,{}):e.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,"aria-hidden":"true",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 11a7 7 0 01-7 7m0 0a7 7 0 01-7-7m7 7v4m0 0H8m4 0h4m-4-8a3 3 0 01-3-3V5a3 3 0 116 0v6a3 3 0 01-3 3z"})})}),e.jsx("button",{type:"button",onClick:_,disabled:d||n||!a.trim(),className:l("flex-shrink-0 p-2.5 rounded-xl transition-all duration-200","bg-gradient-to-r from-blue-600 to-blue-500","hover:from-blue-700 hover:to-blue-600","text-white shadow-lg shadow-blue-500/25","hover:shadow-xl hover:shadow-blue-500/30","active:scale-95","disabled:opacity-50 disabled:cursor-not-allowed disabled:shadow-none"),"aria-label":"Send message",children:n?e.jsxs("svg",{className:"w-5 h-5 animate-spin",fill:"none",viewBox:"0 0 24 24","aria-hidden":"true",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:4}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}):e.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,"aria-hidden":"true",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})})})]}),f&&s.length>0&&e.jsxs("div",{className:l("absolute bottom-full left-0 right-0 mb-2 z-20","bg-white dark:bg-slate-900","border border-slate-200 dark:border-slate-700","rounded-2xl shadow-2xl shadow-slate-200/50 dark:shadow-slate-900/50","overflow-hidden","animate-in fade-in slide-in-from-bottom-2 duration-200"),children:[e.jsx("div",{className:"px-4 py-2 border-b border-slate-100 dark:border-slate-800",children:e.jsxs("div",{className:"flex items-center gap-2 text-xs font-medium text-slate-500 dark:text-slate-400",children:[e.jsx(C,{className:"text-violet-500"}),e.jsx("span",{children:"Suggestions"})]})}),e.jsx("ul",{className:"max-h-60 overflow-y-auto",children:s.map((t,r)=>e.jsx("li",{className:l("px-4 py-3 cursor-pointer transition-all duration-150","hover:bg-slate-50 dark:hover:bg-slate-800",r===m&&"bg-blue-50 dark:bg-blue-900/30"),children:e.jsx("button",{type:"button",className:"w-full text-left",onClick:()=>{o==null||o(t),c(!1)},children:e.jsxs("div",{className:"flex items-start gap-3",children:[t.icon?e.jsx("span",{className:"text-slate-400 mt-0.5",children:t.icon}):e.jsx("span",{className:"w-6 h-6 rounded-lg bg-slate-100 dark:bg-slate-800 flex items-center justify-center mt-0.5",children:e.jsx(C,{className:"text-violet-500 w-3.5 h-3.5"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center justify-between gap-2",children:[e.jsx("span",{className:"font-medium text-slate-700 dark:text-slate-200 truncate",children:t.text}),t.category&&e.jsx("span",{className:l("text-xs font-medium px-2 py-0.5 rounded-full flex-shrink-0","bg-slate-100 text-slate-600","dark:bg-slate-800 dark:text-slate-400"),children:t.category})]}),t.description&&e.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mt-0.5 truncate",children:t.description})]}),e.jsx("svg",{className:l("w-4 h-4 text-slate-300 dark:text-slate-600 flex-shrink-0 mt-1","transition-transform duration-150",r===m&&"translate-x-1 text-blue-500"),fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,"aria-hidden":"true",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 5l7 7-7 7"})})]})})},t.id))})]})]}),!y&&!a&&s.length>0&&e.jsxs("p",{className:"mt-2 text-xs text-slate-400 dark:text-slate-500 text-center animate-in fade-in duration-500",children:["Press ",e.jsx("kbd",{className:"px-1.5 py-0.5 rounded bg-slate-100 dark:bg-slate-800 font-mono text-[10px]",children:"↑"})," or ",e.jsx("kbd",{className:"px-1.5 py-0.5 rounded bg-slate-100 dark:bg-slate-800 font-mono text-[10px]",children:"↓"})," to browse suggestions"]})]})}try{q.displayName="PromptInput",q.__docgenInfo={description:"",displayName:"PromptInput",props:{value:{defaultValue:null,description:"Current value",name:"value",required:!0,type:{name:"string"}},onChange:{defaultValue:null,description:"Change handler",name:"onChange",required:!0,type:{name:"(value: string) => void"}},onSubmit:{defaultValue:null,description:"Submit handler",name:"onSubmit",required:!0,type:{name:"(value: string) => void"}},placeholder:{defaultValue:{value:"Ask anything..."},description:"Placeholder text",name:"placeholder",required:!1,type:{name:"string"}},suggestions:{defaultValue:{value:"[]"},description:"Suggestions to show",name:"suggestions",required:!1,type:{name:"PromptSuggestion[]"}},onSuggestionSelect:{defaultValue:null,description:"Handler for suggestion selection",name:"onSuggestionSelect",required:!1,type:{name:"((suggestion: PromptSuggestion) => void)"}},showVoice:{defaultValue:{value:"false"},description:"Show voice input button",name:"showVoice",required:!1,type:{name:"boolean"}},isVoiceActive:{defaultValue:{value:"false"},description:"Voice input active state",name:"isVoiceActive",required:!1,type:{name:"boolean"}},onVoiceToggle:{defaultValue:null,description:"Voice input handler",name:"onVoiceToggle",required:!1,type:{name:"(() => void)"}},showAttachment:{defaultValue:{value:"false"},description:"Show file attachment button",name:"showAttachment",required:!1,type:{name:"boolean"}},onAttachment:{defaultValue:null,description:"File attachment handler",name:"onAttachment",required:!1,type:{name:"(() => void)"}},attachments:{defaultValue:{value:"[]"},description:"Attached files preview",name:"attachments",required:!1,type:{name:"{ name: string; type: string; preview?: string; }[]"}},onRemoveAttachment:{defaultValue:null,description:"Remove attachment handler",name:"onRemoveAttachment",required:!1,type:{name:"((index: number) => void)"}},isLoading:{defaultValue:{value:"false"},description:"Loading/processing state",name:"isLoading",required:!1,type:{name:"boolean"}},disabled:{defaultValue:{value:"false"},description:"Disabled state",name:"disabled",required:!1,type:{name:"boolean"}},autoResize:{defaultValue:{value:"true"},description:"Auto-resize textarea",name:"autoResize",required:!1,type:{name:"boolean"}},maxRows:{defaultValue:{value:"6"},description:"Maximum rows for auto-resize",name:"maxRows",required:!1,type:{name:"number"}},maxLength:{defaultValue:null,description:"Character limit",name:"maxLength",required:!1,type:{name:"number"}},showCharCount:{defaultValue:{value:"false"},description:"Show character count",name:"showCharCount",required:!1,type:{name:"boolean"}},className:{defaultValue:null,description:"Additional class name",name:"className",required:!1,type:{name:"string"}},variant:{defaultValue:null,description:"",name:"variant",required:!1,type:{name:'"ghost" | "default" | "elevated" | null'}},size:{defaultValue:null,description:"",name:"size",required:!1,type:{name:'"sm" | "md" | "lg" | null'}}}}}catch{}export{q as P};
